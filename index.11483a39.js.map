{"mappings":"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","sources":["<anon>","src/game.js"],"sourcesContent":["class Game {\n    constructor(){\n        this.controller = null;\n        this.wait = this.wait.bind(this);\n        this.wait();\n    }\n    wait() {\n        if (typeof THREE === \"undefined\" && typeof io === \"undefined\") requestAnimationFrame(this.wait);\n        else this.loadingDone();\n    }\n    loadingDone() {\n        this.frameCap = 1000 / 60;\n        this.scene = new THREE.Scene();\n        this.cameraContainer = new THREE.Object3D();\n        this.camera = new THREE.PerspectiveCamera(80, window.innerWidth / window.innerHeight, 0.001, 1000000);\n        this.cameraContainer.add(this.camera);\n        this.scene.add(this.cameraContainer);\n        this.renderer = new THREE.WebGLRenderer({\n            antialias: true,\n            alpha: false,\n            powerPreference: \"high-performance\",\n            stencil: false\n        });\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.renderer.outputColorSpace = THREE.SRGBColorSpace;\n        this.renderer.toneMapping = THREE.NeutralToneMapping;\n        this.renderer.toneMappingExposure = 1.0;\n        this.controls = new PointerLockControls(this.camera, this.renderer.domElement);\n        window.addEventListener(\"resize\", ()=>{\n            this.camera.aspect = window.innerWidth / window.innerHeight;\n            this.camera.updateProjectionMatrix();\n            this.renderer.setSize(window.innerWidth, window.innerHeight);\n        });\n        document.body.appendChild(this.renderer.domElement);\n        document.body.appendChild(VRButton.createButton(this.renderer));\n        this.renderer.xr.enabled = true;\n        this.clock = new THREE.Clock();\n        this.stats = new Stats();\n        document.body.appendChild(this.stats.dom);\n        this.cameraContainer.position.set(4.4, 1.5, 4.5);\n        this.raycaster = new THREE.Raycaster();\n        this.loadScene1();\n    }\n    loadScene1() {\n        this.loader = new GLTFLoader();\n        new RGBELoader().load(\"background5.hdr\", (texture)=>{\n            texture.colorSpace = THREE.LinearSRGBColorSpace;\n            texture.mapping = THREE.EquirectangularReflectionMapping;\n            this.scene.background = texture;\n            this.scene.backgroundIntensity = 0.7;\n            this.scene.environment = texture;\n            this.scene.environmentIntensity = 1;\n            this.loader.load(\"testfiaba5.glb\", (glb)=>{\n                this.map = glb.scene;\n                this.spawnPoints = [];\n                this.map.children.forEach((e)=>{\n                    if (e.name.includes(\"spawnPoint\")) {\n                        e.material.transparent = true;\n                        e.counter = 0;\n                        e.start = 0;\n                        this.spawnPoints.push(e);\n                    }\n                });\n                this.scene.add(this.map);\n                this.loader.load(\"pointer.glb\", (glb)=>{\n                    this.pointer = glb.scene;\n                    this.pointer.rotation.y = Math.PI / 2;\n                    this.pointer.children[0].material = new THREE.MeshBasicMaterial({\n                        color: 0xffffff,\n                        depthTest: false,\n                        depthWrite: false,\n                        transparent: true\n                    });\n                    this.pointer.position.z = -1;\n                    this.camera.add(this.pointer);\n                    this.loader.load(\"testfiaba-ped.glb\", (glb)=>{\n                        this.actionIdle = glb.animations[1];\n                        this.ped = glb.scene;\n                        this.mixer = new THREE.AnimationMixer(this.ped);\n                        this.action = this.mixer.clipAction(this.actionIdle);\n                        this.action.play();\n                        this.listener = new THREE.AudioListener();\n                        this.listener.rotation.y = Math.PI - Math.PI / 8;\n                        this.camera.add(this.listener);\n                        this.sound = new THREE.PositionalAudio(this.listener);\n                        new THREE.AudioLoader().load(\"audio2.mp3\", (buffer)=>{\n                            this.sound.setBuffer(buffer);\n                            this.sound.setVolume(10);\n                            this.sound.setLoop(true);\n                        });\n                        this.ped.add(this.sound);\n                        this.scene.add(this.ped);\n                        this.update();\n                    });\n                });\n            });\n        });\n    }\n    update() {\n        this.renderer.setAnimationLoop(()=>{\n            this.renderer.render(this.scene, this.camera);\n            this.stats.update();\n            this.mixer.update(this.clock.getDelta());\n            this.checkRaycast();\n            if (!this.renderer.xr.getCamera().cameras.length == 0) this.cameraContainer.position.y = -0.2;\n        });\n    }\n    checkRaycast() {\n        this.raycaster.set(this.camera.getWorldPosition(new THREE.Vector3()), this.camera.getWorldDirection(new THREE.Vector3()));\n        this.intersects = this.raycaster.intersectObjects(this.spawnPoints);\n        if (this.intersects.length > 0) {\n            if (this.intersects[0].object.start === 0) this.intersects[0].object.start = Date.now();\n            this.intersects[0].object.counter = Date.now() - this.intersects[0].object.start;\n            this.factor = this.intersects[0].object.counter / 1000;\n            if (this.cameraContainer.position.x !== this.intersects[0].object.getWorldPosition(new THREE.Vector3()).x && this.cameraContainer.position.z !== this.intersects[0].object.getWorldPosition(new THREE.Vector3()).z) this.pointer.scale.set(0.03 + this.factor * 0.015, 0.03 + this.factor * 0.015, 0.03 + this.factor * 0.015);\n            if (this.intersects[0].object.counter >= 1000) {\n                for (var e of this.spawnPoints)e.visible = true;\n                this.sound.stop();\n                this.intersects[0].object.visible = false;\n                this.cameraContainer.position.copy(this.intersects[0].object.getWorldPosition(new THREE.Vector3()).add(new THREE.Vector3(0, 1.3, 0)));\n                if (this.intersects[0].object.name === \"spawnPointStart\") {\n                    if (!this.sound.isPlaying) this.sound.play();\n                }\n            }\n        } else for (var e of this.spawnPoints){\n            e.start = 0;\n            e.counter = 0;\n            this.pointer.scale.set(0.03, 0.03, 0.03);\n        }\n    }\n}\nwindow.Game = Game;\n\n//# sourceMappingURL=index.11483a39.js.map\n","class Game {\r\n    constructor() {\r\n        this.controller = null\r\n        this.wait = this.wait.bind(this)\r\n        this.wait()\r\n    }\r\n\r\n    wait() {\r\n        if (typeof THREE === \"undefined\" && typeof io === \"undefined\") { requestAnimationFrame(this.wait) } else { this.loadingDone() }\r\n    }\r\n\r\n    loadingDone() {\r\n        this.frameCap = 1000 / 60\r\n\r\n        this.scene = new THREE.Scene()\r\n\r\n        this.cameraContainer = new THREE.Object3D()\r\n\r\n        this.camera = new THREE.PerspectiveCamera(80, window.innerWidth / window.innerHeight, 0.001, 1000000);\r\n\r\n        this.cameraContainer.add(this.camera)\r\n        this.scene.add(this.cameraContainer)\r\n\r\n        this.renderer = new THREE.WebGLRenderer({\r\n            antialias: true,\r\n            alpha: false,\r\n            powerPreference: \"high-performance\",\r\n            stencil: false,\r\n        });\r\n\r\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n        this.renderer.outputColorSpace = THREE.SRGBColorSpace\r\n        this.renderer.toneMapping = THREE.NeutralToneMapping\r\n        this.renderer.toneMappingExposure = 1.0\r\n\r\n        this.controls = new PointerLockControls(this.camera, this.renderer.domElement);\r\n\r\n        window.addEventListener('resize', () => {\r\n            this.camera.aspect = window.innerWidth / window.innerHeight;\r\n            this.camera.updateProjectionMatrix();\r\n            this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n        });\r\n\r\n        document.body.appendChild(this.renderer.domElement);\r\n\r\n        document.body.appendChild(VRButton.createButton(this.renderer));\r\n        this.renderer.xr.enabled = true;\r\n\r\n        this.clock = new THREE.Clock()\r\n\r\n        this.stats = new Stats()\r\n        document.body.appendChild(this.stats.dom)\r\n\r\n        this.cameraContainer.position.set(4.4, 1.5, 4.5)\r\n\r\n        this.raycaster = new THREE.Raycaster()\r\n\r\n        this.loadScene1()\r\n    }\r\n\r\n\r\n    loadScene1() {\r\n        this.loader = new GLTFLoader()\r\n        new RGBELoader().load(\"background5.hdr\", (texture) => {\r\n            texture.colorSpace = THREE.LinearSRGBColorSpace\r\n            texture.mapping = THREE.EquirectangularReflectionMapping;\r\n            this.scene.background = texture\r\n            this.scene.backgroundIntensity = 0.7\r\n            this.scene.environment = texture\r\n            this.scene.environmentIntensity = 1\r\n            this.loader.load(\"testfiaba5.glb\", (glb) => {\r\n                this.map = glb.scene\r\n                this.spawnPoints = []\r\n                this.map.children.forEach((e) => {\r\n                    if (e.name.includes(\"spawnPoint\")) {\r\n                        e.material.transparent = true\r\n                        e.counter = 0\r\n                        e.start = 0\r\n                        this.spawnPoints.push(e)\r\n                    }\r\n                })\r\n\r\n                this.scene.add(this.map)\r\n                this.loader.load(\"pointer.glb\", (glb) => {\r\n                    this.pointer = glb.scene\r\n                    this.pointer.rotation.y = Math.PI / 2\r\n                    this.pointer.children[0].material = new THREE.MeshBasicMaterial({ color: 0xffffff, depthTest: false, depthWrite: false, transparent: true })\r\n                    this.pointer.position.z = -1\r\n                    this.camera.add(this.pointer)\r\n\r\n                    this.loader.load(\"testfiaba-ped.glb\", (glb) => {\r\n                        this.actionIdle = glb.animations[1]\r\n                        this.ped = glb.scene\r\n                        this.mixer = new THREE.AnimationMixer(this.ped)\r\n                        this.action = this.mixer.clipAction(this.actionIdle)\r\n                        this.action.play()\r\n                        this.listener = new THREE.AudioListener()\r\n                        this.listener.rotation.y = Math.PI - Math.PI / 8\r\n                        this.camera.add(this.listener)\r\n                        this.sound = new THREE.PositionalAudio(this.listener)\r\n\r\n                        new THREE.AudioLoader().load(\"audio2.mp3\", (buffer) => {\r\n                            this.sound.setBuffer(buffer)\r\n                            this.sound.setVolume(10)\r\n                            this.sound.setLoop(true)\r\n                        })\r\n                        this.ped.add(this.sound)\r\n                        this.scene.add(this.ped)\r\n                        this.update()\r\n                    })\r\n                })\r\n            })\r\n        })\r\n    }\r\n\r\n    update() {\r\n        this.renderer.setAnimationLoop(() => {\r\n            this.renderer.render(this.scene, this.camera);\r\n            this.stats.update()\r\n            this.mixer.update(this.clock.getDelta())\r\n            this.checkRaycast()\r\n            if (!this.renderer.xr.getCamera().cameras.length == 0) { this.cameraContainer.position.y = -0.2 }\r\n        })\r\n    }\r\n\r\n    checkRaycast() {\r\n        this.raycaster.set(this.camera.getWorldPosition(new THREE.Vector3()), this.camera.getWorldDirection(new THREE.Vector3()));\r\n        this.intersects = this.raycaster.intersectObjects(this.spawnPoints)\r\n        if (this.intersects.length > 0) {\r\n            if (this.intersects[0].object.start === 0) this.intersects[0].object.start = Date.now()\r\n            this.intersects[0].object.counter = Date.now() - this.intersects[0].object.start;\r\n            this.factor = this.intersects[0].object.counter / 1000\r\n            if (this.cameraContainer.position.x !== this.intersects[0].object.getWorldPosition(new THREE.Vector3()).x && this.cameraContainer.position.z !== this.intersects[0].object.getWorldPosition(new THREE.Vector3()).z) this.pointer.scale.set(0.03 + this.factor * 0.015, 0.03 + this.factor * 0.015, 0.03 + this.factor * 0.015)\r\n            if (this.intersects[0].object.counter >= 1000) {\r\n                for (var e of this.spawnPoints) {\r\n                    e.visible = true\r\n                }\r\n                this.sound.stop()\r\n                this.intersects[0].object.visible = false\r\n                this.cameraContainer.position.copy(this.intersects[0].object.getWorldPosition(new THREE.Vector3()).add(new THREE.Vector3(0, 1.3, 0)))\r\n                if (this.intersects[0].object.name === \"spawnPointStart\") {\r\n                    if (!this.sound.isPlaying) this.sound.play()\r\n                }\r\n            }\r\n        } else {\r\n            for (var e of this.spawnPoints) {\r\n                e.start = 0\r\n                e.counter = 0\r\n                this.pointer.scale.set(0.03, 0.03, 0.03)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nwindow.Game = Game\r\n"],"names":["window","Game","constructor","controller","wait","bind","THREE","io","requestAnimationFrame","loadingDone","frameCap","scene","Scene","cameraContainer","Object3D","camera","PerspectiveCamera","innerWidth","innerHeight","add","renderer","WebGLRenderer","antialias","alpha","powerPreference","stencil","setSize","outputColorSpace","SRGBColorSpace","toneMapping","NeutralToneMapping","toneMappingExposure","controls","PointerLockControls","domElement","addEventListener","aspect","updateProjectionMatrix","document","body","appendChild","VRButton","createButton","xr","enabled","clock","Clock","stats","Stats","dom","position","set","raycaster","Raycaster","loadScene1","loader","GLTFLoader","RGBELoader","load","texture","colorSpace","LinearSRGBColorSpace","mapping","EquirectangularReflectionMapping","background","backgroundIntensity","environment","environmentIntensity","glb","map","spawnPoints","children","forEach","e","name","includes","material","transparent","counter","start","push","pointer","rotation","y","Math","PI","MeshBasicMaterial","color","depthTest","depthWrite","z","actionIdle","animations","ped","mixer","AnimationMixer","action","clipAction","play","listener","AudioListener","sound","PositionalAudio","AudioLoader","buffer","setBuffer","setVolume","setLoop","update","setAnimationLoop","render","getDelta","checkRaycast","getCamera","cameras","length","getWorldPosition","Vector3","getWorldDirection","intersects","intersectObjects","object","Date","now","factor","x","scale","visible","stop","copy","isPlaying"],"version":3,"file":"index.11483a39.js.map"}